<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å“¥æ‘å°é¥­æ¡Œ - æ­£åœ¨è·³è½¬...</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
    }
    
    .container {
      text-align: center;
    }
    
    .logo {
      font-size: 4em;
      margin-bottom: 20px;
    }
    
    .spinner {
      width: 50px;
      height: 50px;
      border: 4px solid rgba(255,255,255,0.3);
      border-top: 4px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 20px auto;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .debug {
      font-size: 12px;
      opacity: 0.8;
      margin-top: 20px;
      padding: 10px;
      background: rgba(255,255,255,0.1);
      border-radius: 5px;
      max-width: 600px;
      word-break: break-all;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo">ğŸš</div>
    <h1>å“¥æ‘å°é¥­æ¡Œ</h1>
    <div class="spinner"></div>
    <p>æ­£åœ¨è·³è½¬åˆ°ç‚¹é¤ç³»ç»Ÿ...</p>
    <div class="debug" id="debug"></div>
  </div>

  <script>
    // æ›´å¼ºå¤§çš„GitHub Pagesé‡å®šå‘è„šæœ¬
    (function() {
      const debugEl = document.getElementById('debug');
      
      function log(message) {
        console.log(message);
        debugEl.innerHTML += message + '<br>';
      }
      
      log('ğŸ”„ 404é¡µé¢é‡å®šå‘å¤„ç†');
      log('å½“å‰URL: ' + window.location.href);
      log('åè®®: ' + window.location.protocol);
      log('ä¸»æœº: ' + window.location.host);
      log('è·¯å¾„: ' + window.location.pathname);
      log('æŸ¥è¯¢: ' + window.location.search);
      log('ç‰‡æ®µ: ' + window.location.hash);
      
      const protocol = window.location.protocol;
      const host = window.location.host;
      const pathname = window.location.pathname;
      const search = window.location.search;
      const hash = window.location.hash;
      
      // æ„å»ºåŸºç¡€URL
      const baseUrl = protocol + '//' + host;
      
      // æ£€æŸ¥æ˜¯å¦æ˜¯GitHub PagesåŸŸå
      const isGithubPages = host.includes('github.io');
      
      log('æ˜¯å¦GitHub Pages: ' + isGithubPages);
      
      let targetUrl = baseUrl + '/gcxfz/';
      
      // æ£€æŸ¥å„ç§è·¯å¾„æƒ…å†µ
      if (pathname === '/' || pathname === '') {
        log('ğŸ  æ ¹ç›®å½•è®¿é—®');
        targetUrl += search + hash;
      } else if (pathname === '/gcxfz') {
        log('ğŸ“ /gcxfzè®¿é—®ï¼ˆæ— å°¾éƒ¨æ–œæ ï¼‰');
        targetUrl += search + hash;
      } else if (pathname.startsWith('/gcxfz/')) {
        log('ğŸ¯ å·²åœ¨/gcxfz/è·¯å¾„ä¸‹');
        // å¦‚æœæ˜¯SPAè·¯ç”±ï¼Œä¿æŒå½“å‰URL
        if (pathname === '/gcxfz/') {
          targetUrl = window.location.href;
        } else {
          // å¯èƒ½æ˜¯æ·±å±‚è·¯ç”±ï¼Œé‡å®šå‘åˆ°ä¸»é¡µå¹¶ä¿æŒè·¯å¾„ä¿¡æ¯
          const spaPath = pathname.replace('/gcxfz/', '');
          targetUrl = baseUrl + '/gcxfz/' + search + '#/' + spaPath;
        }
      } else {
        log('ğŸŒ å…¶ä»–è·¯å¾„: ' + pathname);
        // å¯èƒ½æ˜¯ä»“åº“åé—®é¢˜ï¼Œå¼ºåˆ¶é‡å®šå‘åˆ°/gcxfz/
        targetUrl += search + hash;
      }
      
      log('ç›®æ ‡URL: ' + targetUrl);
      
      // å¦‚æœå½“å‰URLå’Œç›®æ ‡URLä¸åŒï¼Œæ‰§è¡Œé‡å®šå‘
      if (window.location.href !== targetUrl) {
        log('æ‰§è¡Œé‡å®šå‘...');
        setTimeout(() => {
          window.location.replace(targetUrl);
        }, 1000); // å»¶è¿Ÿ1ç§’è®©ç”¨æˆ·çœ‹åˆ°è°ƒè¯•ä¿¡æ¯
      } else {
        log('URLå·²æ­£ç¡®ï¼Œæ— éœ€é‡å®šå‘');
      }
    })();
  </script>
</body>
</html> 