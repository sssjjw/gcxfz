# ğŸ”§ ç®¡ç†å‘˜è·¯ç”±è·³è½¬é—®é¢˜ä¿®å¤æ€»ç»“

## é—®é¢˜æè¿°
ç”¨æˆ·åé¦ˆï¼šç‚¹å‡» https://sssjjw.github.io/gcxfz/admin.html çš„"è¿›å…¥ç®¡ç†åå°"æŒ‰é’®åï¼Œä¼šè‡ªåŠ¨è·³è½¬å›é¦–é¡µï¼Œæ— æ³•æ­£å¸¸è¿›å…¥ç®¡ç†å‘˜ç³»ç»Ÿã€‚

## æ ¹æœ¬åŸå› åˆ†æ
é€šè¿‡åˆ†ææ§åˆ¶å°æ—¥å¿—å‘ç°ï¼Œ**CustomerAppç»„ä»¶è¢«å®Œå…¨é‡æ–°åˆå§‹åŒ–äº†ä¸¤æ¬¡**ï¼š

1. **ç¬¬ä¸€æ¬¡**ï¼šURLæ­£ç¡® `?admin=login`ï¼Œ`showAdminMode: true`
2. **ç¬¬äºŒæ¬¡**ï¼šURLè¢«é‡ç½®ä¸º `/`ï¼Œ`showAdminMode: false`

### é—®é¢˜æ ¹æº
**App.tsxä¸­ä»åœ¨ä½¿ç”¨React Routerï¼Œä¸æ–°çš„URLå‚æ•°è·¯ç”±ç³»ç»Ÿäº§ç”Ÿäº†å†²çª**ï¼š

```typescript
// å†²çªçš„è·¯ç”±é…ç½®
<Routes>
  <Route path="/" element={<CustomerApp />} />
  <Route path="/admin/login" element={<AdminLogin />} />
  <Route path="/admin/*" element={<ProtectedAdminRoute />} />
  <Route path="*" element={<Navigate to="/" replace />} />
</Routes>
```

### å†²çªæœºåˆ¶
1. ç”¨æˆ·è®¿é—® `?admin=login` 
2. React RouteråŒ¹é…åˆ° `/` è·¯å¾„ï¼Œæ¸²æŸ“CustomerApp
3. CustomerAppæ­£ç¡®æ£€æµ‹adminå‚æ•°ï¼Œæ˜¾ç¤ºç®¡ç†å‘˜ç™»å½•é¡µé¢
4. è®¤è¯çŠ¶æ€å˜åŒ–è§¦å‘React Routeré‡æ–°æ¸²æŸ“
5. **é‡æ–°æ¸²æŸ“è¿‡ç¨‹ä¸­URLè¢«é‡ç½®ä¸ºæ ¹è·¯å¾„**
6. CustomerAppé‡æ–°åˆå§‹åŒ–æ—¶å·²ç»æ²¡æœ‰adminå‚æ•°äº†

## ä¿®å¤æ–¹æ¡ˆ

### 1. ç§»é™¤React Routerä¾èµ–
**ä¿®æ”¹ `src/App.tsx`**ï¼š
```typescript
// ä¿®æ”¹å‰ï¼šä½¿ç”¨React Router
import { Routes, Route, Navigate } from 'react-router-dom';
<Routes>
  <Route path="/" element={<CustomerApp />} />
  // ... å…¶ä»–è·¯ç”±
</Routes>

// ä¿®æ”¹åï¼šç›´æ¥æ¸²æŸ“CustomerApp
<AuthProvider>
  <MenuProvider>
    <OrderProvider>
      <CartProvider>
        <CustomerApp />
      </CartProvider>
    </OrderProvider>
  </MenuProvider>
</AuthProvider>
```

### 2. ç®€åŒ–main.tsx
**ä¿®æ”¹ `src/main.tsx`**ï¼š
```typescript
// ä¿®æ”¹å‰ï¼šä½¿ç”¨BrowserRouter
import { BrowserRouter } from 'react-router-dom';
const basename = import.meta.env.DEV ? '/' : '/gcxfz/';
<BrowserRouter basename={basename}>
  <App />
</BrowserRouter>

// ä¿®æ”¹åï¼šç›´æ¥æ¸²æŸ“App
<React.StrictMode>
  <App />
</React.StrictMode>
```

### 3. ä¿®å¤ç®¡ç†å‘˜ç»„ä»¶
**ä¿®æ”¹ `src/pages/admin/AdminDashboard.tsx`**ï¼š
```typescript
// ä¿®æ”¹å‰ï¼šä½¿ç”¨React Routerçš„Navigate
import { Navigate } from 'react-router-dom';
if (!isAuthenticated) {
  return <Navigate to="/admin/login" replace />;
}

// ä¿®æ”¹åï¼šä½¿ç”¨window.location.href
if (!isAuthenticated) {
  window.location.href = '?admin=login';
  return null;
}
```

**ä¿®æ”¹ `src/pages/admin/AdminLogin.tsx`**ï¼š
```typescript
// ç§»é™¤æœªä½¿ç”¨çš„å¯¼å…¥
import { useNavigate } from 'react-router-dom';
const navigate = useNavigate();

// ä¿æŒç°æœ‰çš„è·³è½¬é€»è¾‘
window.location.href = '?admin=dashboard';
```

## æŠ€æœ¯åŸç†

### URLå‚æ•°è·¯ç”±ç³»ç»Ÿ
ç°åœ¨ç³»ç»Ÿå®Œå…¨ä½¿ç”¨URLå‚æ•°è¿›è¡Œè·¯ç”±ï¼š
- `?admin=login` â†’ æ˜¾ç¤ºç®¡ç†å‘˜ç™»å½•é¡µé¢
- `?admin=dashboard` â†’ æ˜¾ç¤ºç®¡ç†å‘˜ä»ªè¡¨æ¿
- `?admin=menu` â†’ æ˜¾ç¤ºèœå•ç®¡ç†é¡µé¢
- æ— å‚æ•° â†’ æ˜¾ç¤ºå®¢æˆ·ç‚¹é¤é¡µé¢

### å•é¡µé¢æ¶æ„
æ‰€æœ‰åŠŸèƒ½éƒ½åœ¨CustomerAppç»„ä»¶å†…é€šè¿‡URLå‚æ•°åˆ‡æ¢ï¼š
```typescript
const showAdminMode = () => {
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.has('admin');
};
```

## ä¿®å¤æ•ˆæœ

### ä¿®å¤å‰
- âŒ ç®¡ç†å‘˜ç™»å½•åè‡ªåŠ¨è·³è½¬å›é¦–é¡µ
- âŒ React Routerä¸URLå‚æ•°è·¯ç”±å†²çª
- âŒ ç»„ä»¶é‡æ–°åˆå§‹åŒ–å¯¼è‡´çŠ¶æ€ä¸¢å¤±

### ä¿®å¤å
- âœ… ç®¡ç†å‘˜ç™»å½•åæ­£ç¡®è·³è½¬åˆ°ä»ªè¡¨æ¿
- âœ… ç»Ÿä¸€çš„URLå‚æ•°è·¯ç”±ç³»ç»Ÿ
- âœ… ç»„ä»¶çŠ¶æ€æ­£å¸¸ä¿æŒ
- âœ… æ”¯æŒæµè§ˆå™¨å‰è¿›/åé€€
- âœ… æ”¯æŒç›´æ¥è®¿é—®ç®¡ç†å‘˜URL

## æµ‹è¯•éªŒè¯

### æµ‹è¯•ç”¨ä¾‹
1. âœ… è®¿é—® `https://sssjjw.github.io/gcxfz/admin.html` ç‚¹å‡»"è¿›å…¥ç®¡ç†åå°"
2. âœ… ç›´æ¥è®¿é—® `https://sssjjw.github.io/gcxfz/?admin=login`
3. âœ… ç™»å½•æˆåŠŸåè·³è½¬åˆ° `?admin=dashboard`
4. âœ… ç®¡ç†å‘˜å„ä¸ªåŠŸèƒ½é¡µé¢åˆ‡æ¢æ­£å¸¸
5. âœ… é€€å‡ºç™»å½•æ­£ç¡®è¿”å› `?admin=login`

### å¯ç”¨ç®¡ç†å‘˜è´¦æˆ·
- `sjw` / `123456`
- `xsm` / `123456`

## éƒ¨ç½²è¯´æ˜

### ç¯å¢ƒè¦æ±‚
- Node.js: â‰¥20.19.0 æˆ– â‰¥22.12.0
- npm: æœ€æ–°ç‰ˆæœ¬

### æ„å»ºéƒ¨ç½²
```bash
# å¦‚æœé‡åˆ°ç¯å¢ƒé—®é¢˜ï¼Œå…ˆæ›´æ–°Node.js
npm install
npm run build

# éƒ¨ç½²åˆ°GitHub Pages
git add .
git commit -m "ä¿®å¤ç®¡ç†å‘˜è·¯ç”±è·³è½¬é—®é¢˜"
git push origin main
```

## æ€»ç»“
é€šè¿‡ç§»é™¤React Routerä¾èµ–å¹¶ç»Ÿä¸€ä½¿ç”¨URLå‚æ•°è·¯ç”±ï¼Œå½»åº•è§£å†³äº†ç®¡ç†å‘˜ç™»å½•åè‡ªåŠ¨è·³è½¬å›é¦–é¡µçš„é—®é¢˜ã€‚ç°åœ¨ç®¡ç†å‘˜ç³»ç»Ÿå¯ä»¥æ­£å¸¸è®¿é—®å’Œä½¿ç”¨ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½é€šè¿‡URLå‚æ•°è¿›è¡Œå¯¼èˆªï¼Œé¿å…äº†è·¯ç”±å†²çªã€‚

è¿™ä¸ªä¿®å¤ç¡®ä¿äº†ï¼š
1. ğŸ¯ **è·¯ç”±ç»Ÿä¸€æ€§**ï¼šæ‰€æœ‰å¯¼èˆªéƒ½ä½¿ç”¨URLå‚æ•°
2. ğŸ”„ **çŠ¶æ€æŒä¹…æ€§**ï¼šç»„ä»¶ä¸ä¼šæ„å¤–é‡æ–°åˆå§‹åŒ–
3. ğŸŒ **æµè§ˆå™¨å…¼å®¹æ€§**ï¼šæ”¯æŒå‰è¿›/åé€€å’Œç›´æ¥è®¿é—®
4. ï¿½ï¿½ **è®¤è¯ç¨³å®šæ€§**ï¼šç™»å½•çŠ¶æ€æ­£å¸¸ä¿æŒ 